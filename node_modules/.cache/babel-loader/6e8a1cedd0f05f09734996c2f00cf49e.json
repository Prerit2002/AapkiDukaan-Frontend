{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\Git Hub\\\\AapkiDukaan-Frontend\\\\src\\\\Theme1\\\\Components\\\\Checkout\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { AccountBox } from \"../Account\";\nimport Cart from \"../Cart\";\nimport { XIcon } from \"@heroicons/react/outline\";\nimport { useCart, useCartUpdate, useCartOpen } from \"../../Contexts/CartContext\";\nimport { Link } from \"react-router-dom\";\nimport Textfield from \"../FormComponents/textfield\";\nimport axios from \"axios\";\nimport { useSellerId } from \"../../Contexts/SellerContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Checkout() {\n  _s();\n\n  const products = useCart();\n  const CartUpdate = useCartUpdate();\n  let total = 0;\n  products.forEach(element => {\n    total += parseInt(element.Price); // setTotal(total)\n  });\n  const [Total, setTotal] = useState(total);\n  const RemoveProduct = CartUpdate.RemoveProduct;\n  const [Promo, setPromo] = useState(\"\");\n  const [Applied, setApplied] = useState(false);\n  let id = useSellerId();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-left text-2xl m-2\",\n      children: \"Checkout \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(AccountBox, {\n        save: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        as: \"div\",\n        className: \" \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-hidden \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-w-full flex bg-w\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-screen max-w-md\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-full flex flex-col bg-white shadow-xl \",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 py-6  px-4 sm:px-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \" overflow-hidden\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flow-root\",\n                      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                        role: \"list\",\n                        className: \"-my-6 divide-y divide-gray-200\",\n                        children: products.map(product => /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"py-6 flex\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden\",\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: \"http://localhost:5000/image/\" + product.Photo,\n                              className: \"w-full h-full object-center object-cover\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 49,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 48,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"ml-4 flex-1 flex flex-col\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex justify-between text-base font-medium text-gray-900\",\n                                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                                  children: /*#__PURE__*/_jsxDEV(Link, {\n                                    to: 'product/' + product._id,\n                                    children: product.Name\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 62,\n                                    columnNumber: 39\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 61,\n                                  columnNumber: 37\n                                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                  className: \"ml-4\",\n                                  children: product.Price\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 66,\n                                  columnNumber: 37\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 60,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 59,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex-1 flex items-end justify-between text-sm\",\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex\",\n                                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                                  type: \"button\",\n                                  onClick: e => {\n                                    e.preventDefault();\n                                    console.log(product.id);\n                                    RemoveProduct(product.id);\n                                  },\n                                  className: \"font-medium text-indigo-600 hover:text-indigo-500\",\n                                  children: \"Remove\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 71,\n                                  columnNumber: 37\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 70,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 69,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 58,\n                            columnNumber: 31\n                          }, this)]\n                        }, product.Name, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 47,\n                          columnNumber: 29\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 42,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 41,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 40,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 39,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"border-t border-gray-200 py-6 px-4 sm:px-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between text-base font-medium text-gray-900\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Subtotal\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: total\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 21\n                  }, this), Applied ? /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [Code, \" has been Applied\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 32\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-6  justify-center text-sm text-center text-gray-500\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-left mx-2\",\n                      children: \"Apply Promo Code\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex m-2 \",\n                      children: [/*#__PURE__*/_jsxDEV(Textfield, {\n                        Style: \"p-2 border\",\n                        value: Promo,\n                        setValue: setPromo\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 100,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: e => {\n                          e.preventDefault();\n                          axios.put(\"/api/checkpromo/\" + id, {\n                            Code: Promo,\n                            Total: total\n                          }).then(data => {\n                            console.log(data.data);\n                            setTotal(data.data.NewTotal);\n                            setApplied(true);\n                          });\n                          e.preventDefault();\n                          console.log(Promo);\n                        },\n                        className: \" bg-theme mx-2  border rounded-lg text-white p-2 \",\n                        children: \"Apply\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 105,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"border-t border-gray-200 mt-5 \",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex mt-5 justify-between text-base font-medium text-gray-900\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Total\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 130,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: Total\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 131,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-6  justify-center text-sm text-center text-gray-500\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Proceed to Pay\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"#\",\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        className: \"w-1/2 m-auto\",\n                        src: \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Paytm_Logo_%28standalone%29.svg/2560px-Paytm_Logo_%28standalone%29.svg.png\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 138,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Checkout, \"pb0WwIWE49GaZ1btDH4lGdOnM6M=\", false, function () {\n  return [useCart, useCartUpdate, useSellerId];\n});\n\n_c = Checkout;\nexport default Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["D:/Documents/Git Hub/AapkiDukaan-Frontend/src/Theme1/Components/Checkout/index.js"],"names":["React","useState","AccountBox","Cart","XIcon","useCart","useCartUpdate","useCartOpen","Link","Textfield","axios","useSellerId","Checkout","products","CartUpdate","total","forEach","element","parseInt","Price","Total","setTotal","RemoveProduct","Promo","setPromo","Applied","setApplied","id","map","product","Photo","_id","Name","e","preventDefault","console","log","Code","put","then","data","NewTotal"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { AccountBox } from \"../Account\";\r\nimport Cart from \"../Cart\";\r\nimport { XIcon } from \"@heroicons/react/outline\";\r\nimport {\r\n  useCart,\r\n  useCartUpdate,\r\n  useCartOpen,\r\n} from \"../../Contexts/CartContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Textfield from \"../FormComponents/textfield\";\r\nimport axios from \"axios\";\r\nimport { useSellerId } from \"../../Contexts/SellerContext\";\r\n\r\nfunction Checkout() {\r\n  const products = useCart();\r\n  const CartUpdate = useCartUpdate();\r\n  let total = 0;\r\n  products.forEach((element) => {\r\n    total += parseInt(element.Price);\r\n    // setTotal(total)\r\n  });\r\n  const [Total, setTotal] = useState(total)\r\n  const RemoveProduct = CartUpdate.RemoveProduct;\r\n  const [Promo, setPromo] = useState(\"\");\r\n  const [Applied, setApplied] = useState(false)\r\n  let id = useSellerId();\r\n  return (\r\n    <div>\r\n      <p className=\"text-left text-2xl m-2\">Checkout </p>\r\n\r\n      <div className=\"flex flex-row justify-between\">\r\n        <AccountBox save={true} />\r\n        <div as=\"div\" className=\" \">\r\n          <div className=\"overflow-hidden \">\r\n            <div className=\"max-w-full flex bg-w\">\r\n              <div className=\"w-screen max-w-md\">\r\n                <div className=\"h-full flex flex-col bg-white shadow-xl \">\r\n                  <div className=\"flex-1 py-6  px-4 sm:px-6\">\r\n                    <div className=\" overflow-hidden\">\r\n                      <div className=\"flow-root\">\r\n                        <ul\r\n                          role=\"list\"\r\n                          className=\"-my-6 divide-y divide-gray-200\"\r\n                        >\r\n                          {products.map((product) => (\r\n                            <li key={product.Name} className=\"py-6 flex\">\r\n                              <div className=\"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden\">\r\n                                <img\r\n                                  src={\r\n                                    \"http://localhost:5000/image/\" +\r\n                                    product.Photo\r\n                                  }\r\n                                  className=\"w-full h-full object-center object-cover\"\r\n                                />\r\n                              </div>\r\n\r\n                              <div className=\"ml-4 flex-1 flex flex-col\">\r\n                                <div>\r\n                                  <div className=\"flex justify-between text-base font-medium text-gray-900\">\r\n                                    <h3>\r\n                                      <Link to={'product/'+product._id}>\r\n                                        {product.Name}\r\n                                      </Link>\r\n                                    </h3>\r\n                                    <p className=\"ml-4\">{product.Price}</p>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"flex-1 flex items-end justify-between text-sm\">\r\n                                  <div className=\"flex\">\r\n                                    <button\r\n                                      type=\"button\"\r\n                                      onClick={(e) => {\r\n                                        e.preventDefault();\r\n                                        console.log(product.id);\r\n                                        RemoveProduct(product.id);\r\n                                      }}\r\n                                      className=\"font-medium text-indigo-600 hover:text-indigo-500\"\r\n                                    >\r\n                                      Remove\r\n                                    </button>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"border-t border-gray-200 py-6 px-4 sm:px-6\">\r\n                    <div className=\"flex justify-between text-base font-medium text-gray-900\">\r\n                      <p>Subtotal</p>\r\n                      <p>{total}</p>\r\n                    </div>\r\n                    {Applied ? <p>{Code} has been Applied</p> : \r\n                    <div className=\"mt-6  justify-center text-sm text-center text-gray-500\">\r\n                      <p className=\"text-left mx-2\">Apply Promo Code</p>\r\n                      <div className=\"flex m-2 \">\r\n                        <Textfield\r\n                          Style=\"p-2 border\"\r\n                          value={Promo}\r\n                          setValue={setPromo}\r\n                        />\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.preventDefault()\r\n                            axios.put(\"/api/checkpromo/\"+id,{\r\n                              Code : Promo,\r\n                              Total : total\r\n                            }).then((data)=>{\r\n                                console.log(data.data)\r\n                                setTotal(data.data.NewTotal)\r\n                                setApplied(true)\r\n                            })\r\n                            e.preventDefault();\r\n                            console.log(Promo);\r\n                          }}\r\n                          className=\" bg-theme mx-2  border rounded-lg text-white p-2 \">\r\n                          Apply\r\n                        </button>\r\n                      </div>\r\n                    </div> }\r\n                    <div className=\"border-t border-gray-200 mt-5 \">\r\n                      {/* <div className=\"flex mt-5 justify-between text-base font-medium text-gray-900\">\r\n                        <p>Promo Code Appplied : {}</p>\r\n                        <p>-{total}</p>\r\n                      </div> */}\r\n                      <div className=\"flex mt-5 justify-between text-base font-medium text-gray-900\">\r\n                        <p>Total</p>\r\n                        <p>{Total}</p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-6  justify-center text-sm text-center text-gray-500\">\r\n                      <p>Proceed to Pay</p>\r\n                      <Link to=\"#\">\r\n                        <img\r\n                          className=\"w-1/2 m-auto\"\r\n                          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Paytm_Logo_%28standalone%29.svg/2560px-Paytm_Logo_%28standalone%29.svg.png\"\r\n                        />\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n"]},"metadata":{},"sourceType":"module"}