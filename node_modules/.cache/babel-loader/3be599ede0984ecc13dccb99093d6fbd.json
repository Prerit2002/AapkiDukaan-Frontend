{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\Git Hub\\\\AapkiDukaan-Frontend\\\\src\\\\Theme1\\\\Components\\\\Checkout\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { AccountBox } from \"../Account\";\nimport Cart from \"../Cart\";\nimport { XIcon } from \"@heroicons/react/outline\";\nimport { useCart, useCartUpdate, useCartOpen } from \"../../Contexts/CartContext\";\nimport { Link } from \"react-router-dom\";\nimport Textfield from \"../FormComponents/textfield\";\nimport axios from \"axios\";\nimport { useSellerId } from \"../../Contexts/SellerContext\";\nimport { useCustomer } from \"../../Contexts/CustomerContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Checkout() {\n  _s();\n\n  const products = useCart();\n  const CartUpdate = useCartUpdate();\n  let total = 0;\n  products.forEach(element => {\n    total += parseInt(element.Price); // setTotal(total)\n  });\n  const [Total, setTotal] = useState(total);\n  const RemoveProduct = CartUpdate.RemoveProduct;\n  const [Promo, setPromo] = useState(\"\");\n  const [Applied, setApplied] = useState(false);\n  let id = useSellerId();\n  let {\n    _id\n  } = useCustomer();\n  console.log(_id);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-left text-2xl m-2\",\n      children: \"Checkout \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(AccountBox, {\n        save: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        as: \"div\",\n        className: \" \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-hidden \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-w-full flex bg-w\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-screen max-w-md\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-full flex flex-col bg-white shadow-xl \",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1 py-6  px-4 sm:px-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \" overflow-hidden\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flow-root\",\n                      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                        role: \"list\",\n                        className: \"-my-6 divide-y divide-gray-200\",\n                        children: products.map(product => /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"py-6 flex\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden\",\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: \"http://localhost:5000/image/\" + product.Photo,\n                              className: \"w-full h-full object-center object-cover\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 52,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 51,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"ml-4 flex-1 flex flex-col\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex justify-between text-base font-medium text-gray-900\",\n                                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                                  children: /*#__PURE__*/_jsxDEV(Link, {\n                                    to: 'product/' + product._id,\n                                    children: product.Name\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 65,\n                                    columnNumber: 39\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 64,\n                                  columnNumber: 37\n                                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                  className: \"ml-4\",\n                                  children: product.Price\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 69,\n                                  columnNumber: 37\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 63,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 62,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex-1 flex items-end justify-between text-sm\",\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"flex\",\n                                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                                  type: \"button\",\n                                  onClick: e => {\n                                    e.preventDefault();\n                                    console.log(product.id);\n                                    RemoveProduct(product.id);\n                                  },\n                                  className: \"font-medium text-indigo-600 hover:text-indigo-500\",\n                                  children: \"Remove\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 74,\n                                  columnNumber: 37\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 73,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 72,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 61,\n                            columnNumber: 31\n                          }, this)]\n                        }, product.Name, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 50,\n                          columnNumber: 29\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 45,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 44,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 43,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 42,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"border-t border-gray-200 py-6 px-4 sm:px-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between text-base font-medium text-gray-900\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Subtotal\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: total\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 21\n                  }, this), Applied ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [Promo, \" has been Applied\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.preventDefault();\n                        setPromo(\"\");\n                        setTotal(total);\n                        setApplied(false);\n                      },\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 21\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-6  justify-center text-sm text-center text-gray-500\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-left mx-2\",\n                      children: \"Apply Promo Code\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex m-2 \",\n                      children: [/*#__PURE__*/_jsxDEV(Textfield, {\n                        Style: \"p-2 border\",\n                        value: Promo,\n                        setValue: setPromo\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: e => {\n                          e.preventDefault();\n                          axios.put(\"/api/checkpromo/\" + id, {\n                            Code: Promo,\n                            Total: total\n                          }).then(data => {\n                            console.log(data.data);\n                            setTotal(data.data.NewTotal);\n                            setApplied(true);\n                          }).catch(e => {\n                            alert('Invalid Promo Code');\n                          });\n                          console.log(Promo);\n                        },\n                        className: \" bg-theme mx-2  border rounded-lg text-white p-2 \",\n                        children: \"Apply\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 119,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"border-t border-gray-200 mt-5 \",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex mt-5 justify-between text-base font-medium text-gray-900\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: \"Total\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: Total\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 146,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 144,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-6  justify-center text-sm text-center text-gray-500\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Proceed to Pay\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.preventDefault();\n                        let productIds = [];\n                        products.map(el => {\n                          return productIds.push(el._id);\n                        });\n                        console.log(productIds);\n                        let Article = {\n                          Sid: id,\n                          Total: Total,\n                          Products: productIds,\n                          CustId: _id,\n                          Type: 'COD',\n                          Date: new Date()\n                        };\n                        console.log(Article);\n                      },\n                      className: \"p-2 bg-lightgreen text-white rounded-md\",\n                      children: \"Checkout With Cash On Delivery\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 152,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Checkout, \"x0AqgP9i+siFs1y0G16oCDAwgcw=\", false, function () {\n  return [useCart, useCartUpdate, useSellerId, useCustomer];\n});\n\n_c = Checkout;\nexport default Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["D:/Documents/Git Hub/AapkiDukaan-Frontend/src/Theme1/Components/Checkout/index.js"],"names":["React","useState","AccountBox","Cart","XIcon","useCart","useCartUpdate","useCartOpen","Link","Textfield","axios","useSellerId","useCustomer","Checkout","products","CartUpdate","total","forEach","element","parseInt","Price","Total","setTotal","RemoveProduct","Promo","setPromo","Applied","setApplied","id","_id","console","log","map","product","Photo","Name","e","preventDefault","put","Code","then","data","NewTotal","catch","alert","productIds","el","push","Article","Sid","Products","CustId","Type","Date"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { AccountBox } from \"../Account\";\r\nimport Cart from \"../Cart\";\r\nimport { XIcon } from \"@heroicons/react/outline\";\r\nimport {\r\n  useCart,\r\n  useCartUpdate,\r\n  useCartOpen,\r\n} from \"../../Contexts/CartContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Textfield from \"../FormComponents/textfield\";\r\nimport axios from \"axios\";\r\nimport { useSellerId } from \"../../Contexts/SellerContext\";\r\nimport { useCustomer } from \"../../Contexts/CustomerContext\";\r\n\r\nfunction Checkout() {\r\n  const products = useCart();\r\n  const CartUpdate = useCartUpdate();\r\n  let total = 0;\r\n  products.forEach((element) => {\r\n    total += parseInt(element.Price);\r\n    // setTotal(total)\r\n  });\r\n  const [Total, setTotal] = useState(total)\r\n  const RemoveProduct = CartUpdate.RemoveProduct;\r\n  const [Promo, setPromo] = useState(\"\");\r\n  const [Applied, setApplied] = useState(false)\r\n  let id = useSellerId();\r\n  let {_id} = useCustomer()\r\n  console.log(_id)\r\n  return (\r\n    <div>\r\n      <p className=\"text-left text-2xl m-2\">Checkout </p>\r\n\r\n      <div className=\"flex flex-row justify-between\">\r\n        <AccountBox save={true} />\r\n        <div as=\"div\" className=\" \">\r\n          <div className=\"overflow-hidden \">\r\n            <div className=\"max-w-full flex bg-w\">\r\n              <div className=\"w-screen max-w-md\">\r\n                <div className=\"h-full flex flex-col bg-white shadow-xl \">\r\n                  <div className=\"flex-1 py-6  px-4 sm:px-6\">\r\n                    <div className=\" overflow-hidden\">\r\n                      <div className=\"flow-root\">\r\n                        <ul\r\n                          role=\"list\"\r\n                          className=\"-my-6 divide-y divide-gray-200\"\r\n                        >\r\n                          {products.map((product) => (\r\n                            <li key={product.Name} className=\"py-6 flex\">\r\n                              <div className=\"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden\">\r\n                                <img\r\n                                  src={\r\n                                    \"http://localhost:5000/image/\" +\r\n                                    product.Photo\r\n                                  }\r\n                                  className=\"w-full h-full object-center object-cover\"\r\n                                />\r\n                              </div>\r\n\r\n                              <div className=\"ml-4 flex-1 flex flex-col\">\r\n                                <div>\r\n                                  <div className=\"flex justify-between text-base font-medium text-gray-900\">\r\n                                    <h3>\r\n                                      <Link to={'product/'+product._id}>\r\n                                        {product.Name}\r\n                                      </Link>\r\n                                    </h3>\r\n                                    <p className=\"ml-4\">{product.Price}</p>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"flex-1 flex items-end justify-between text-sm\">\r\n                                  <div className=\"flex\">\r\n                                    <button\r\n                                      type=\"button\"\r\n                                      onClick={(e) => {\r\n                                        e.preventDefault();\r\n                                        console.log(product.id);\r\n                                        RemoveProduct(product.id);\r\n                                      }}\r\n                                      className=\"font-medium text-indigo-600 hover:text-indigo-500\"\r\n                                    >\r\n                                      Remove\r\n                                    </button>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"border-t border-gray-200 py-6 px-4 sm:px-6\">\r\n                    <div className=\"flex justify-between text-base font-medium text-gray-900\">\r\n                      <p>Subtotal</p>\r\n                      <p>{total}</p>\r\n                    </div>\r\n                    {Applied ?\r\n                    \r\n                    <div>\r\n                      <p>{Promo} has been Applied</p>\r\n                      <button onClick={e=>{\r\n                        e.preventDefault()\r\n                        setPromo(\"\")\r\n                        setTotal(total)\r\n                        setApplied(false)\r\n                      }}>Remove</button>\r\n                     </div> \r\n                        : \r\n                    <div className=\"mt-6  justify-center text-sm text-center text-gray-500\">\r\n                      <p className=\"text-left mx-2\">Apply Promo Code</p>\r\n                      <div className=\"flex m-2 \">\r\n                        <Textfield\r\n                          Style=\"p-2 border\"\r\n                          value={Promo}\r\n                          setValue={setPromo}\r\n                        />\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.preventDefault()\r\n                            axios.put(\"/api/checkpromo/\"+id,{\r\n                              Code : Promo,\r\n                              Total : total\r\n                            }).then((data)=>{\r\n                                console.log(data.data)\r\n                                setTotal(data.data.NewTotal)\r\n                                setApplied(true)\r\n                            }).catch(e=>{\r\n                              alert('Invalid Promo Code')\r\n                            })\r\n                            console.log(Promo);\r\n                          }}\r\n                          className=\" bg-theme mx-2  border rounded-lg text-white p-2 \">\r\n                          Apply\r\n                        </button>\r\n                      </div>\r\n                    </div> }\r\n                    <div className=\"border-t border-gray-200 mt-5 \">\r\n                      {/* <div className=\"flex mt-5 justify-between text-base font-medium text-gray-900\">\r\n                        <p>Promo Code Appplied : {}</p>\r\n                        <p>-{total}</p>\r\n                      </div> */}\r\n                      <div className=\"flex mt-5 justify-between text-base font-medium text-gray-900\">\r\n                        <p>Total</p>\r\n                        <p>{Total}</p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-6  justify-center text-sm text-center text-gray-500\">\r\n                      <p>Proceed to Pay</p>\r\n                      <button onClick={(e)=>{\r\n                        e.preventDefault()\r\n                         \r\n                        let productIds = [];\r\n                         products.map(el=>{\r\n                          return productIds.push(el._id)\r\n                        })\r\n                        console.log(productIds)\r\n                        let Article = {\r\n                          Sid : id,\r\n                          Total : Total,\r\n                          Products : productIds,\r\n                          CustId : _id,\r\n                          Type : 'COD',\r\n                          Date : new Date()\r\n                        }\r\n                        console.log(Article)\r\n                      }} className=\"p-2 bg-lightgreen text-white rounded-md\">\r\n                        Checkout With Cash On Delivery\r\n                        </button>\r\n                        {/* <img\r\n                          className=\"w-1/2 m-auto\"\r\n                          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Paytm_Logo_%28standalone%29.svg/2560px-Paytm_Logo_%28standalone%29.svg.png\"\r\n                        /> */}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n"]},"metadata":{},"sourceType":"module"}