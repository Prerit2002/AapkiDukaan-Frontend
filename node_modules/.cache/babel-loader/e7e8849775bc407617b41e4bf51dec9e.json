{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\Git Hub\\\\AapkiDukaan-Frontend\\\\src\\\\Components\\\\Login\\\\index.js\";\nimport axios from 'axios';\nimport React from 'react';\nimport LoginForm from '../../Public/Components/LoginForm';\nimport { useSellerData } from '../../Theme1/Contexts/SellerContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \" h-screen flex md:flex-row flex-col m-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mt-8 space-y-6\",\n      onSubmit: e => {\n        e.preventDefault();\n        console.log(e.target[1].value);\n        let creds;\n\n        if (props.domain) {\n          creds = {\n            Username: e.target[1].value,\n            Password: e.target[2].value,\n            Domain: props.domain\n          };\n        } else {\n          creds = {\n            Username: e.target[1].value,\n            Password: e.target[2].value\n          };\n        }\n\n        axios.post(\"/api/loginUser/\" + props.role, creds).then(data => {\n          const obj = {\n            token: data.data.token,\n            Email: data.data.Email,\n            Username: data.data.Username\n          };\n          localStorage.setItem('User', JSON.stringify(obj));\n        }).then(() => {\n          alert('Logged In');\n          window.location.href = '/';\n        }).catch(e => {\n          alert('Invalid Credentials');\n        });\n      },\n      children: /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 9\n  }, this);\n}\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/Documents/Git Hub/AapkiDukaan-Frontend/src/Components/Login/index.js"],"names":["axios","React","LoginForm","useSellerData","Login","props","e","preventDefault","console","log","target","value","creds","domain","Username","Password","Domain","post","role","then","data","obj","token","Email","localStorage","setItem","JSON","stringify","alert","window","location","href","catch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,mCAAtB;AACA,SAASC,aAAT,QAA8B,qCAA9B;;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAClB,sBACI;AAAK,IAAA,SAAS,EAAC,4CAAf;AAAA,2BACI;AAAM,MAAA,SAAS,EAAC,gBAAhB;AAAiC,MAAA,QAAQ,EACrCC,CAAC,IAAE;AACCA,QAAAA,CAAC,CAACC,cAAF;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYH,CAAC,CAACI,MAAF,CAAS,CAAT,EAAYC,KAAxB;AACA,YAAIC,KAAJ;;AACA,YAAGP,KAAK,CAACQ,MAAT,EAAiB;AACZD,UAAAA,KAAK,GAAG;AACLE,YAAAA,QAAQ,EAAGR,CAAC,CAACI,MAAF,CAAS,CAAT,EAAYC,KADlB;AAELI,YAAAA,QAAQ,EAAGT,CAAC,CAACI,MAAF,CAAS,CAAT,EAAYC,KAFlB;AAGLK,YAAAA,MAAM,EAAGX,KAAK,CAACQ;AAHV,WAAR;AAKJ,SAND,MAMM;AACDD,UAAAA,KAAK,GAAG;AACLE,YAAAA,QAAQ,EAAGR,CAAC,CAACI,MAAF,CAAS,CAAT,EAAYC,KADlB;AAELI,YAAAA,QAAQ,EAAGT,CAAC,CAACI,MAAF,CAAS,CAAT,EAAYC;AAFlB,WAAR;AAIJ;;AAEDX,QAAAA,KAAK,CAACiB,IAAN,CAAW,oBAAkBZ,KAAK,CAACa,IAAnC,EAAwCN,KAAxC,EAA+CO,IAA/C,CAAqDC,IAAD,IAAQ;AACxD,gBAAMC,GAAG,GAAI;AACTC,YAAAA,KAAK,EAAGF,IAAI,CAACA,IAAL,CAAUE,KADT;AAETC,YAAAA,KAAK,EAAGH,IAAI,CAACA,IAAL,CAAUG,KAFT;AAGTT,YAAAA,QAAQ,EAAGM,IAAI,CAACA,IAAL,CAAUN;AAHZ,WAAb;AAKAU,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA4BC,IAAI,CAACC,SAAL,CAAeN,GAAf,CAA5B;AACH,SAPD,EAOGF,IAPH,CAOQ,MAAI;AACRS,UAAAA,KAAK,CAAC,WAAD,CAAL;AACAC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAqB,GAArB;AACH,SAVD,EAUGC,KAVH,CAUU1B,CAAD,IAAK;AACVsB,UAAAA,KAAK,CAAC,qBAAD,CAAL;AACH,SAZD;AAaH,OA/BL;AAAA,6BAiCA,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAjCA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAuCH;;KAxCQxB,K;AA0CT,eAAeA,KAAf","sourcesContent":["import axios from 'axios'\r\nimport React from 'react'\r\nimport LoginForm from '../../Public/Components/LoginForm'\r\nimport { useSellerData } from '../../Theme1/Contexts/SellerContext'\r\n\r\nfunction Login(props) {\r\n    return (\r\n        <div className=\" h-screen flex md:flex-row flex-col m-auto\">\r\n            <form className=\"mt-8 space-y-6\" onSubmit={\r\n                e=>{\r\n                    e.preventDefault()\r\n                    console.log(e.target[1].value)\r\n                    let creds;\r\n                    if(props.domain) {\r\n                         creds = {\r\n                            Username : e.target[1].value,\r\n                            Password : e.target[2].value,\r\n                            Domain : props.domain\r\n                        }\r\n                    }else {\r\n                         creds = {\r\n                            Username : e.target[1].value,\r\n                            Password : e.target[2].value,\r\n                        }\r\n                    }\r\n            \r\n                    axios.post(\"/api/loginUser/\"+props.role,creds).then((data)=>{\r\n                        const obj =  { \r\n                            token : data.data.token,\r\n                            Email : data.data.Email,\r\n                            Username : data.data.Username,\r\n                        }\r\n                        localStorage.setItem('User',JSON.stringify(obj))\r\n                    }).then(()=>{\r\n                        alert('Logged In')\r\n                        window.location.href='/'\r\n                    }).catch((e)=>{\r\n                        alert('Invalid Credentials')\r\n                    })\r\n                }\r\n            }>\r\n            <LoginForm />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}